<!DOCTYPE html>
<html lang="en" class="borderbox">
<head>
    <meta charset="UTF-8">
    <title>Article</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    		<title></title>
    		<link rel="stylesheet" href="typo.css">
    		<link rel="stylesheet" href="github-markdown.css">
    		<link rel="stylesheet" href="styles/atom-one-dark.css">
    		<style>
    			body {
    				box-sizing: border-box;
    				min-width: 200px;
    				max-width: 980px;
    				margin: 0 auto;
    				padding: 45px;
    			}
    		</style>

</head>
<body>
<aside id="toc"></aside>
<div id="content-wrapper">
<article class="markdown-body" id="content">
<h1>服务器同步git更新</h1>

<h2>新建文件夹</h2>

<p><code>mkdir /repo/cst</code>
<code>cd /repo/cst</code></p>

<h2>初始化空git项目</h2>

<p><code>git init --bare</code></p>

<h3>在客户端添加远程项目</h3>

<pre><code class="language-bash"># user@local&gt;
git init
git remote add origin root@server:/repo/cst/
git add .
git commit -m &quot;init&quot;
git push -u origin master
</code></pre>

<h2>在服务端部署目录克隆项目</h2>

<pre><code class="language-bash">cd /var/www/html/deploy
git clone /repo/cst/
</code></pre>

<h1>在服务端设置hooks</h1>

<p><code>vim /repo/cst/hooks/post-update</code></p>

<p>在后面加入相应的更新代码:</p>

<pre><code class="language-bash">cd /var/www/html/deploy
git pull origin master
</code></pre>

<h2>在服务端部署目</h2>

<pre><code class="language-bash">cd /var/www/html/deploy
git clone /repo/cst/
</code></pre>

<h3>在目</h3>

<pre><code class="language-bash">cd /var/www/html/deploy
git clone /repo/cst/
</code></pre>

</article>
</div>
<script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
<script src="highlight.pack.js"></script>
<script src="md-toc.js"></script>
<script type="text/javascript">
    new Toc('content',{
        'level':3,
        'top':200,
        'class':'toc',
        'targetId':'toc'
    });
hljs.initHighlightingOnLoad();
</script>
</body>
</html>